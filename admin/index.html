<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WAUKLINK ‚Äî Admin</title>
  <link rel="stylesheet" href="../style.css?v=1" />
  <style>
    .page{padding:24px 0}
    .meta{opacity:.85;font-size:13px}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px;margin-top:14px}
    .card{border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);border-radius:18px;padding:16px}
    .btn{padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);color:#fff;cursor:pointer}
    .title{font-weight:900;font-size:16px}
    .icon{font-size:22px;margin-bottom:6px}
  </style>
</head>
<body>
<header class="topbar">
  <div class="container topbar-row">
    <div>
      <h1>WAUKLINK</h1>
      <div class="subtitle">Espace Administrateur</div>
    </div>
    <nav style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
      <a class="btn" href="../index.html">‚Üê Site</a>
    </nav>
  </div>
</header>

<main class="container page">
  <h2 style="margin:0">Commandes administrateur</h2>
  <div class="meta" style="margin-top:6px">Acc√®s r√©serv√© aux comptes avec <b>role = "admin"</b>.</div>

  <div class="cards">
    <div class="card">
      <div class="icon">‚úÖ</div>
      <div class="title">Validation des annonces</div>
      <div class="meta">Valider / pending / removed + fix ownerUid.</div>
      <div style="margin-top:12px">
        <button class="btn" id="openAnnonces">Ouvrir</button>
      </div>
    </div>

    <div class="card">
      <div class="icon">üö©</div>
      <div class="title">Signalements</div>
      <div class="meta">Voir les annonces signal√©es.</div>
      <div style="margin-top:12px">
        <button class="btn" id="openReports">Ouvrir</button>
      </div>
    </div>

    <div class="card">
      <div class="icon">‚≠ê</div>
      <div class="title">Notes & √©toiles</div>
      <div class="meta">Voir les notes, top annonces, reset moyenne.</div>
      <div style="margin-top:12px">
        <button class="btn" id="openRatings">Ouvrir</button>
      </div>
    </div>
  </div>

  <div class="meta" id="msg" style="margin-top:14px"></div>
</main>

<script type="module">
  const msg = document.getElementById("msg");
  const go = (url) => { window.location.href = url; };

  document.getElementById("openAnnonces").onclick = () => go("./annonces.html");
  document.getElementById("openReports").onclick  = () => go("./reports.html");
  document.getElementById("openRatings").onclick  = () => go("./ratings.html");

  // Petit diagnostic si annonces.html manque (donne une info claire)
  fetch("./annonces.html", { method:"HEAD" })
    .then(r => { if(!r.ok) msg.textContent = "‚ö†Ô∏è annonces.html introuvable (404). V√©rifie qu‚Äôil existe dans /admin/."; })
    .catch(()=>{});
</script>

<script type="module" src="../auth/status.js"></script>
<script type="module" src="../auth/user_sync.js"></script>
</body>
</html>
