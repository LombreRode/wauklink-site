<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Modération</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <h1>Modération</h1>
  <p id="msg">Chargement…</p>

  <a href="../index.html">← Retour site</a>

  <script type="module">
    import { requireModeration } from "../_shared/guard.js";
    const msg = document.getElementById("msg");

    requireModeration({
      redirectTo: "../index.html",
      onOk: (_u, role) => {
        msg.textContent = `Accès autorisé (${role})`;
      }
    });
  </script>

  <script type="module" src="../auth/status.js"></script>
</body>
</html>
