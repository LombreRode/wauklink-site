<script type="module">
  import { requireModeration } from "../_shared/guard.js";

  requireModeration({
    redirectTo: "../auth/login.html",
    onLoading: () => {
      console.log("V√©rification en cours...");
    },
    onOk: (user, role) => {
      console.log("OK admin/mod :", user.email, role);
      // üëâ ici tu peux afficher le portail admin
    },
    onFail: (reason) => {
      console.warn("Acc√®s refus√© :", reason);
    }
  });
</script>
